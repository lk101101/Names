{% extends "base.html" %}

{% block content %}
  <head>
    <meta charset="UTF-8" />
    <title>Get Information for a Name!</title>
      <!-- Load Vega, Vega-Lite, and Vega-Embed -->
      <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
      <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
      <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
  </head>
  <body>
    <h2>Get Information for a Name</h2>
    <form action="/name_information" method="post">
      <input type="text" name="name" placeholder="Name" required />
      <select name="gender" required>
        <option value="">Please select</option>
        <option value="boy">Boy</option>
        <option value="girl">Girl</option>
      </select>
      <input type="submit" value="Get Information" />
    </form>

    <!-- Check if texts have been passed to the template -->
    {% if texts %}
    <h2>Name Information</h2>
    <ul>
      {% for text in texts %}
      <li>{{ text }}</li>
      {% endfor %}
    </ul>
    {% endif %}

    <!-- Container for the visualization -->
    {% if world_map %}
    <div id="world_map"></div>
    {% endif %}
    
    <script type="text/javascript">
      var chart_spec = {{ world_map | safe }};
      vegaEmbed('#world_map', chart_spec);
    </script>
  </body>
{% endblock %}